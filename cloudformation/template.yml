AWSTemplateFormatVersion: 2010-09-09
Description: AWS CloudFormation template for events ui
Transform: 'AWS::Serverless-2016-10-31'
Parameters:
  RealmName:
    Default: dev
    Type: String
  BucketName:
    Description: Hosted zone id for scorer.jp
    Type: String

Resources:
  EventsUIBucket:
    Type: 'AWS::S3::Bucket'
    Properties:
      AccessControl: PublicRead
      BucketName: !Ref BucketName
      WebsiteConfiguration:
        IndexDocument: index.html
        IndexDocument: index.html
  BucketPolicy:
    Type: 'AWS::S3::BucketPolicy'
    Properties:
      Bucket: !Ref EventsUIBucket
      PolicyDocument:
        Statement:
          - Action:
              - 's3:GetObject'
            Effect: Allow
            Resource: !Join
              - ''
              - - 'arn:aws:s3:::'
                - !Ref EventsUIBucket
                - /*
            Principal: '*'

Outputs:
  EventsUIBucket:
    Value: !Ref EventsUIBucket
    Export:
      Name: !Sub '${AWS::StackName}-EventsUIBucketName'
